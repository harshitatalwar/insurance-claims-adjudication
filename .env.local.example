# =============================================================================
# OPD Claims Adjudication System - Environment Configuration
# =============================================================================
# Instructions:
# 1. Copy this file to .env
# 2. Uncomment the section you need (Local Development OR Docker Deployment)
# 3. Fill in your actual values (especially OPENAI_API_KEY)
# =============================================================================

# -----------------------------------------------------------------------------
# üîß LOCAL DEVELOPMENT (Backend with Poetry, Services in Docker)
# -----------------------------------------------------------------------------
# Use these settings when running:
# - Backend: poetry run uvicorn app.main:app --reload
# - Services: docker compose up -d postgres minio qdrant
# - Frontend: npm run dev
# -----------------------------------------------------------------------------

# Database (PostgreSQL in Docker, accessed from host)
DATABASE_URL=postgresql://opd_user:opd_password@localhost:5432/opd_claims

# Qdrant (in Docker, accessed from host)
QDRANT_HOST=localhost
QDRANT_PORT=6333

# MinIO (in Docker, accessed from host)
MINIO_HOST=localhost
MINIO_PORT=9000

# -----------------------------------------------------------------------------
# üê≥ DOCKER COMPOSE DEPLOYMENT (Everything in Docker)
# -----------------------------------------------------------------------------
# Use these settings when running: docker compose up -d
# Uncomment these lines and comment out the LOCAL DEVELOPMENT section above
# -----------------------------------------------------------------------------

# Database (PostgreSQL service in Docker network)
# DATABASE_URL=postgresql://opd_user:opd_password@postgres:5432/opd_claims

# Qdrant (service in Docker network)
# QDRANT_HOST=qdrant
# QDRANT_PORT=6333

# MinIO (service in Docker network)
# MINIO_HOST=minio
# MINIO_PORT=9000

# -----------------------------------------------------------------------------
# üîë OpenAI API Configuration (REQUIRED - Same for both)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your-openai-api-key-here
LLM_MODEL=gpt-4-vision-preview
LLM_TEMPERATURE=0.1
MAX_TOKENS=2000

# -----------------------------------------------------------------------------
# ‚öôÔ∏è Application Settings (Same for both)
# -----------------------------------------------------------------------------
APP_NAME=OPD Claims Adjudication System
DEBUG=True
SECRET_KEY=dev-secret-key-change-in-production

# -----------------------------------------------------------------------------
# üåê CORS Settings (Same for both)
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# -----------------------------------------------------------------------------
# üìÅ File Upload Settings (Same for both)
# -----------------------------------------------------------------------------
MAX_UPLOAD_SIZE=10485760
UPLOAD_DIR=./uploads

# -----------------------------------------------------------------------------
# üéØ AI Confidence Thresholds (Same for both)
# -----------------------------------------------------------------------------
MANUAL_REVIEW_THRESHOLD=0.70
HIGH_VALUE_CLAIM_THRESHOLD=25000

# -----------------------------------------------------------------------------
# üóÑÔ∏è Qdrant Settings (Same for both)
# -----------------------------------------------------------------------------
QDRANT_COLLECTION_NAME=policy_documents
QDRANT_USE_MEMORY=True

# -----------------------------------------------------------------------------
# üì¶ MinIO Settings (Same for both)
# -----------------------------------------------------------------------------
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=opd-claims
MINIO_SECURE=False

# -----------------------------------------------------------------------------
# üé® Frontend Configuration (Same for both)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=http://localhost:8000

# =============================================================================
# üìù Quick Reference
# =============================================================================
# 
# LOCAL DEVELOPMENT SETUP:
# 1. Use DATABASE_URL=...@localhost:5432/...
# 2. Use QDRANT_HOST=localhost
# 3. Use MINIO_HOST=localhost
# 4. Run: docker compose up -d postgres minio qdrant
# 5. Run: cd backend && poetry run uvicorn app.main:app --reload
# 6. Run: cd frontend && npm run dev
#
# DOCKER DEPLOYMENT SETUP:
# 1. Use DATABASE_URL=...@postgres:5432/...
# 2. Use QDRANT_HOST=qdrant
# 3. Use MINIO_HOST=minio
# 4. Run: docker compose up -d
#
# IMPORTANT:
# - Never commit .env to git (it's in .gitignore)
# - Add your actual OPENAI_API_KEY
# - Change SECRET_KEY in production
# =============================================================================
